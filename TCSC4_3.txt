1

4.2.2-1 TH

TH is instructed to start advertising a service using DNS-SD

TH should start advertising its service

2

4.2.2-1 DUT

Scan for DNS-SD advertising

Check TH advertising for:

- DNS-SD instance name must be 64-bit compressed FabricID

- service type must be _matter._tcp

- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router

- target hostname is the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.

- if optional key CRI is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used

- if optional key CRA is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used

- if optional key T is available it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default value 1 must be used

TH must publish AAAA records for each IPv6 address upon which they are willing to accept CHIP messages.

3

4.2.2-1 DUT

DUT is instructed to advertise it’s service

DUT should start to advertise it’s service via DNS-SD

4

4.2.2-1 TH

Scan for DNS-SD advertising

Check DUT advertising for:

- DNS-SD instance name must be 64-bit compressed FabricID

- service type must be _matter._tcp

- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router

- target hostname is the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.

- if optional key CRI is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used

- if optional key CRA is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used

- if optional key T is available it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default value 1 must be used

DUT must publish AAAA records for each IPv6 address upon which they are willing to accept CHIP messages.