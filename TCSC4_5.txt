1

4.2.2-1 TH

TH is instructed to start advertising two or more services using DNS-SD

TH should start advertising its services

2

4.2.2-1 DUT

By any means, DUT is instructed to perform an unicast UDP query to the DNS-SD Discovery Proxy on TH for services

TH should respond with a list of services available in CHIP network containing the following:

- DNS-SD instance name must be 64-bit compressed FabricID

- service type must be _matter._tcp

- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router

- target hostname is the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.

- if optional key CRI is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used

- if optional key CRA is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used

- if optional key T is available it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default value 1 must be used

3

4.2.2-1 TH

TH performs a change in one of the services configured at step 1

no desc

4

4.2.2-1 DUT

DUT must receive a notification with new data

New data must contain the changes from step 3 and include:

- DNS-SD instance name must be 64-bit compressed FabricID

- service type must be _matter._tcp

- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router

- target hostname is the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.

- if optional key CRI is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used

- if optional key CRA is available it must have a maximum value of 3600000 and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used

- if optional key T is available it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeroes. if key is not available or has an invalid value, the default value 1 must be used
